<app-header [showSearch]="false"></app-header>


<div class="user-form-container">
  <h2>Add New User</h2>
  <form #userForm="ngForm" (ngSubmit)="addUser(userForm)">
    
    <div class="control">
      <label for="first_name">First Name:</label>
      <input
        type="text"
        id="first_name"
        name="first_name"
        [(ngModel)]="user.first_name"
        required
        minlength="2"
        #firstName="ngModel"
      />
    </div>

    @if (firstName.touched && firstName.invalid) {
      <p class="control-error" *ngIf="firstName.errors?.['required']">First Name is required.</p>
      <p class="control-error" *ngIf="firstName.errors?.['minlength']">First Name must be at least 2 characters long.</p>
    }

    <div class="control">
      <label for="last_name">Last Name:</label>
      <input
        type="text"
        id="last_name"
        name="last_name"
        [(ngModel)]="user.last_name"
        required
        minlength="2"
        #lastName="ngModel"
      />
    </div>

    @if (lastName.touched && lastName.invalid) {
      <p class="control-error" *ngIf="lastName.errors?.['required']">Last Name is required.</p>
      <p class="control-error" *ngIf="lastName.errors?.['minlength']">Last Name must be at least 2 characters long.</p>
    }

    <div class="control">
      <label for="email">Email:</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="user.email"
        required
        email
        #email="ngModel"
      />
    </div>

    @if (email.touched && email.invalid) {
      <p class="control-error" *ngIf="email.errors?.['required']">Email is required.</p>
      <p class="control-error" *ngIf="email.errors?.['email']">Invalid email address.</p>
    }

    <div class="button-group">
      <button type="submit" [disabled]="!userForm.form.valid">Add User</button>
      <button type="button" (click)="cancel()">Cancel</button>
    </div>
    
  </form>
</div>
